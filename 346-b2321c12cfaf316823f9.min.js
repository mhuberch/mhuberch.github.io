"use strict";(self.webpackChunkgraphPlayground=self.webpackChunkgraphPlayground||[]).push([[346],{346:(e,t,o)=>{o.r(t),o.d(t,{default:()=>s});var r=o(485),i=o(536),a=o(669),n=o(119),l="exportedText",d={importByString:function(e,t){if("json"===t.toLowerCase())try{var o=JSON.parse(e);"nodes"in o&&"edges"in o?(window.network.setData({}),window.main.setData(o,!1,!0,!1)):r.default.showSimpleModal(n.current.DataImportError,"<p>"+n.current.DataImportErrorText+"</p>")}catch(e){r.default.showSimpleModal(n.current.JsonParseError,"<p>"+n.current.JsonParseErrorText+"</p><pre>"+e+"</pre>")}else if("dimacs"===t.toLowerCase()){var l=e.split(/\r?\n/),d=null,s=!1;if(l.forEach((function(e){var t=e.split(/\s+/);if("p"===t[0].toLowerCase()){if("edge"!==t[1].toLowerCase())return r.default.showSimpleModal(n.current.DimacsParseError,"<p>"+r.default.htmlEncode(n.current.DimacsParseErrorText)+"</p>"),void(s=!0);d=new i.default(parseInt(t[2]))}else"e"===t[0].toLowerCase()&&null!==d&&(d=d.addEdge(parseInt(t[1])-1,parseInt(t[2])-1))})),null!==d||s||(r.default.showSimpleModal(n.current.DimacsParseError,"<p>"+n.current.DimacsParseErrorNoProgram+"</p>"),s=!0),!s){var f=a.default.getGraphData(d);f.nodes.forEach((function(e){e.label=e.id.toString()})),window.main.setData(f,!1,!0,!0)}}else r.default.showSimpleModal(n.current.UnrecognizedInputError,"<p>"+n.current.UnrecognizedInputError+".</p>")},makeImportTextModal:function(){r.default.showFormModal((function(e,t){e.modal("hide"),d.importByString(t[0],t[1])}),n.current.ImportGraphFromText,n.current.Import,[{type:"textarea",label:n.current.ImportText,extraAttrs:{style:"height: 20vh; min-height:400px;"}},{type:"select",label:n.current.Format,optionValues:["json","dimacs"],optionText:["JSON","DIMACS"]}])},makeImportFileModal:function(){r.default.showFormModal((function(e,t){e.modal("hide");var o=t[0];if(1===o.length){var i=o[0],a=new FileReader;a.onload=function(e){d.importByString(e.target.result,r.default.getFileExtension(i.name))},a.readAsText(i)}}),n.current.ImportGraphFromFile,n.current.Import,[{type:"file",label:n.current.UploadFile,validationFunc:function(e,t){return t.get(0).files.length>=1||n.current.MustChooseFileError}}])},makeImportGraphExercise:function(e){d.importByString(['{"nodes":[{"id":0,"label":"A","x":0,"y":0},{"id":1,"label":"B","x":-70,"y":-70},{"id":2,"label":"C","x":-70,"y":70},{"id":3,"label":"D","x":50,"y":0},{"id":4,"label":"E","x":120,"y":-70},{"id":5,"label":"F","x":120,"y":70}],"edges":[{"from":0,"to":1,"weight":1},{"from":0,"to":2,"weight":1},{"from":0,"to":3,"weight":1},{"from":1,"to":2,"weight":1},{"from":1,"to":4,"weight":1},{"from":2,"to":5,"weight":1},{"from":3,"to":4,"weight":1},{"from":3,"to":5,"weight":1},{"from":4,"to":5,"weight":1}],"directed":false,"weighted":false}','{"nodes":[{"id":0,"label":"A","x":0,"y":-70},{"id":1,"label":"B","x":200,"y":-70},{"id":2,"label":"C","x":200,"y":70},{"id":3,"label":"D","x":0,"y":70},{"id":4,"label":"E","x":-70,"y":0},{"id":5,"label":"F","x":70,"y":0},{"id":6,"label":"G","x":130,"y":0},{"id":7,"label":"H","x":270,"y":0}],"edges":[{"from":0,"to":1,"weight":1},{"from":0,"to":4,"weight":1},{"from":4,"to":3,"weight":1},{"from":3,"to":5,"weight":1},{"from":5,"to":0,"weight":1},{"from":4,"to":5,"weight":1},{"from":3,"to":2,"weight":1},{"from":6,"to":2,"weight":1},{"from":6,"to":1,"weight":1},{"from":1,"to":7,"weight":1},{"from":7,"to":2,"weight":1},{"from":1,"to":2,"weight":1}],"directed":false,"weighted":false}','{"nodes":[{"id":0,"label":"A","x":0,"y":0},{"id":1,"label":"B","x":-70,"y":-70},{"id":2,"label":"C","x":0,"y":-110},{"id":3,"label":"D","x":70,"y":-70},{"id":4,"label":"E","x":70,"y":70},{"id":5,"label":"F","x":-70,"y":70},{"id":6,"label":"G","x":0,"y":-170}],"edges":[{"from":5,"to":4,"weight":1},{"from":5,"to":0,"weight":1},{"from":0,"to":3,"weight":1},{"from":3,"to":1,"weight":1},{"from":1,"to":5,"weight":1},{"from":1,"to":0,"weight":1},{"from":0,"to":4,"weight":1},{"from":4,"to":3,"weight":1},{"from":1,"to":2,"weight":1},{"from":2,"to":3,"weight":1},{"from":1,"to":6,"weight":1},{"from":6,"to":3,"weight":1}],"directed":false,"weighted":false}','{"nodes":[{"id":0,"label":"A","x":-50,"y":0},{"id":1,"label":"B","x":50,"y":0},{"id":2,"label":"C","x":-100,"y":70},{"id":3,"label":"D","x":100,"y":70},{"id":4,"label":"E","x":-100,"y":-70},{"id":5,"label":"F","x":0,"y":-70},{"id":6,"label":"G","x":100,"y":-70}],"edges":[{"from":2,"to":3,"weight":1},{"from":4,"to":2,"weight":1},{"from":4,"to":5,"weight":1},{"from":5,"to":6,"weight":1},{"from":6,"to":3,"weight":1},{"from":1,"to":3,"weight":1},{"from":1,"to":6,"weight":1},{"from":2,"to":0,"weight":1},{"from":4,"to":0,"weight":1},{"from":0,"to":5,"weight":1},{"from":5,"to":1,"weight":1},{"from":0,"to":6,"weight":1},{"from":4,"to":1,"weight":1},{"from":0,"to":3,"weight":1},{"from":1,"to":2,"weight":1}],"directed":false,"weighted":false}'][e],"json")},setGraphBackground:function(e){0===e?(window.network.off("beforeDrawing"),a.default.repaint()):1===e?(window.network.off("beforeDrawing"),a.default.repaint(),window.network.on("beforeDrawing",(function(e){e.drawImage(document.getElementById("verkehr"),-350,-190)})),a.default.repaint()):2===e?(window.network.off("beforeDrawing"),a.default.repaint(),window.network.on("beforeDrawing",(function(e){e.drawImage(document.getElementById("schweiz"),-400,-300)})),a.default.repaint()):3===e&&(window.network.off("beforeDrawing"),a.default.repaint(),window.network.on("beforeDrawing",(function(e){e.drawImage(document.getElementById("sudoku4x4"),-350,-250)})),a.default.repaint())},makeExportFileModal:function(){r.default.showFormModal(null,n.current.ExportGraphToFile,null,[{type:"button",initialValue:n.current.ExportToJson,onclick:function(){d.exportToFile("json")},extraAttrs:{class:"btn btn-sm btn-primary m-1"},clickDismiss:!0},{type:"button",initialValue:n.current.ExportToDimacs,onclick:function(){d.exportToFile("dimacs")},extraAttrs:{class:"btn btn-sm btn-primary"},clickDismiss:!0}],null,!1)},makeExportTextModal:function(){r.default.showFormModal(null,n.current.ExportGraphToText,null,[{type:"button",initialValue:n.current.ExportToJson,onclick:function(){d.exportToText("json")},extraAttrs:{class:"btn btn-sm btn-primary m-1"},clickDismiss:!1},{type:"button",initialValue:n.current.ExportToDimacs,onclick:function(){d.exportToText("dimacs")},extraAttrs:{class:"btn btn-sm btn-primary"},clickDismiss:!1},{type:"textarea",label:"",initialValue:"",extraAttrs:{style:"height: 20vh; min-height:400px; white-space:pre; margin-top: 1rem;"},onclick:function(){document.getElementById(l).select(),document.execCommand("copy")},id:"exportedText"}],(function(e){e.modal("hide")}),!1)},exportToFile:function(e){"json"===e.toLowerCase()?d.downloadFile("graph.json",d.getDataAsJSON()):"dimacs"===e.toLowerCase()&&d.downloadFile("graph.dimacs",d.getDataAsDIMACS())},exportToText:function(e){"json"===e.toLowerCase()?document.getElementById(l).innerHTML=JSON.stringify(JSON.parse(d.getDataAsJSON()),null,2):"dimacs"===e.toLowerCase()&&(document.getElementById(l).innerHTML=d.getDataAsDIMACS())},getDataAsJSON:function(){var e=a.default.getGraphData(a.default.graph);return e.nodes=r.default.keepOnlyKeys(e.nodes,["id","label","color","x","y"]),e.edges=r.default.keepOnlyKeys(e.edges,["from","to","weight","color"]),JSON.stringify(e)},getDataAsDIMACS:function(){var e=a.default.getGraphData(),t="c This Graph was generated and exported from Michael Dombrowski's Graph Playground -- https://mikedombo.github.io/graphPlayground -- https://mikedombrowski.com\n",o=a.default.graph.getFullAdjacency();o=o.filter((function(e){return 0!==e.length}));var r=[];o.forEach((function(e,t){-1===r.indexOf(t+1)&&r.push(t+1),e.forEach((function(e){-1===r.indexOf(e+1)&&r.push(e+1)}))}));var i=0,n="";return e.edges.forEach((function(e){n+="e "+(e.from+1)+" "+(e.to+1)+"\n",i++})),n=n.trim(),(t+="p edge "+r.length+" "+i+"\n")+n},downloadFile:function(e,t){var o=new Blob([t],{type:"text/plain"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(o,e);else{var r=window.document.createElement("a");r.href=window.URL.createObjectURL(o),r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(o)}}};const s=d}}]);
//# sourceMappingURL=346-b2321c12cfaf316823f9.min.js.map